project(QAKQuick
    VERSION ${QACTIONKIT_VERSION}
    LANGUAGES CXX
)

file(GLOB_RECURSE _src *.h *.cpp)

qak_add_library(${PROJECT_NAME} AUTOGEN
    SOURCES ${_src}
    FEATURES cxx_std_17
    QT_LINKS Core Gui Qml Quick QuickTemplates2
    QT_INCLUDE_PRIVATE Quick QuickTemplates2
    LINKS QAKCore
    INCLUDE_PRIVATE *
    PREFIX QAK_QUICK
)

if(QT_KNOWN_POLICY_QTP0001)
    qt_policy(SET QTP0001 NEW)
endif()
if(QT_KNOWN_POLICY_QTP0004)
    qt_policy(SET QTP0004 NEW)
endif()

qt_add_qml_module(${PROJECT_NAME}
    URI QActionKit
    NAMESPACE QAK
    OUTPUT_DIRECTORY ${CMAKE_CURRENT_BINARY_DIR}/QActionKit
)

set(QACTIONKIT_ENABLED_TARGETS ${QACTIONKIT_ENABLED_TARGETS} ${PROJECT_NAME} PARENT_SCOPE)
set(QACTIONKIT_ENABLED_SUBDIRECTORIES ${QACTIONKIT_ENABLED_SUBDIRECTORIES} quick PARENT_SCOPE)